<div class="container-fluid margin-top-15">
    <div class="row">
        <div class="col-sm-12">
            <form class="form">
                <div class="form-group has-feedback margin-bottom-0">
                    <span class="glyphicon glyphicon-search form-control-feedback grey-b" aria-hidden="true"></span> 
                    <input type="text" class="form-control input-sm" placeholder="搜索" ng-model="search.$"> 
                    
                </div>
            </form>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-12 padding-left-5">
            <ul class="ztys-filter-condition">
                <li class="ztys-filter-category">类别: </li>
                <li ng-repeat="category in categoryList" ng-click="filterCategory(category.value)" ng-class="{active: category.selected}">
                    {{ category.label }}
                </li>
            </ul> 
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12 padding-left-5">
            <ul class="ztys-filter-condition">
                <li class="ztys-filter-category">状态: </li>
                <li ng-repeat="status in statusList" ng-click="filterStatus(status.value)" ng-class="{active: status.selected}">
                    {{ status.label }}
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="container-fluid margin-top-15">
    <table class="table table-striped table-hover margin-bottom-0">
        <caption>图书列表 ({{ (books|filter:search).length }})</caption>
        <thead>
            <tr>
                <th>书名</th>
                <th>作者</th>
                <th>类别</th>
                <th>标签</th>
                <th>出版社</th>
                <th>收藏日期</th>
                <th>书架位置</th>
                <th>状态</th>
                <th>评价</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="book in books | filter:search">
                <td><a href="#/books/{{ book.id }}">{{ book.title }}</a></td>
                <td>{{ book.author }}</td>
                <td>{{ categoryList[book.category].label }}</td>
                <td>{{ book.label }}</td>
                <td>{{ book.press }}</td>
                <td>{{ book.date | date:'yyyy-MM-dd'}}</td>
                <td>{{ positions[book.position - 1].label }}</td>
                <td>
                    <span class="glyphicon glyphicon-ok green" ng-show="book.status === 3" title="已读"></span>
                    <span class="glyphicon glyphicon-bookmark blue" ng-show="book.status === 2" title="正在读"></span>
                    <span class="glyphicon glyphicon-time orange" ng-show="book.status === 1" title="未读"></span>
                </td>
                <td>
                    <span class="glyphicon glyphicon-star ztys-star" ng-repeat="s in getStars(book.stars)"></span>
                </td>
            </tr>
        </tbody>
    </table>
</div>